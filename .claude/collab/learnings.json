{
  "confirmed_insights": [
    {
      "id": "LEARN-001",
      "date": "2025-12-20",
      "insight": "HMM-only entry (bandit mode) outperforms neural network predictions",
      "evidence": "Bandit: 40.9% win rate, +$1.40/trade vs Consensus: 37.7% win rate, -$2.33/trade",
      "implications": ["Keep bandit as default entry controller", "Neural predictions are unreliable (~50% accuracy)"],
      "experiments": ["run_20251220_073149", "consensus_5k"]
    },
    {
      "id": "LEARN-002",
      "date": "2025-12-20",
      "insight": "Win rate is NOT the bottleneck - per-trade P&L is",
      "evidence": "Contrarian: 41.3% win rate (BEST) but -$2.81/trade (WORST P&L)",
      "implications": ["Focus on exit strategy, not entry selection", "Average loss > average win is the real problem"],
      "experiments": ["contrarian_5k", "consensus_5k", "run_20251220_120723"]
    },
    {
      "id": "LEARN-003",
      "date": "2025-12-21",
      "insight": "Exit ratio asymmetry (-8%/+12%) requires 40% win rate to break even",
      "evidence": "Mathematical: 8/(8+12) = 40% breakeven. With transaction costs, need >42%",
      "implications": ["Test symmetric ratios", "Consider wider exits to let winners run"],
      "experiments": ["Phase 6", "Phase 7"]
    },
    {
      "id": "LEARN-004",
      "date": "2025-12-21",
      "insight": "Prediction horizon (15min) mismatches hold time (45min)",
      "evidence": "Predictions expire at 15min but positions held 45min. Drift causes reversals.",
      "implications": ["Reduce max hold to 15-20 min OR extend prediction horizon"],
      "experiments": ["HMM+Neural validation"]
    },
    {
      "id": "LEARN-005",
      "date": "2025-12-21",
      "insight": "5K cycle tests can be misleading - period sensitivity is high",
      "evidence": "HMM+Neural: +715% in 5K, -93.5% in 20K (same config, different periods)",
      "implications": ["Always validate promising results with 20K cycles", "Be skeptical of single-period results"],
      "experiments": ["HMM+Neural 5K vs 20K"]
    },
    {
      "id": "LEARN-006",
      "date": "2025-12-21",
      "insight": "Dynamic exit evaluator hurts performance significantly",
      "evidence": "Win rate dropped from 40.4% to 0.8% with theta decay checks",
      "implications": ["Keep dynamic exit DISABLED", "Options need time to develop, don't cut early"],
      "experiments": ["test_dynamic_exit", "test_dynamic_exit_v2"]
    },
    {
      "id": "LEARN-007",
      "date": "2025-12-28",
      "insight": "Pre-trained model on 3 months data, tested on current month performs best",
      "evidence": "User-reported: Walk-forward validation with 3-month training window",
      "implications": ["Use LOAD_PRETRAINED=1", "Periodically retrain on recent data"],
      "experiments": ["jerry_baseline_pretrained"]
    },
    {
      "id": "LEARN-008",
      "date": "2026-01-02",
      "insight": "TRANSFORMER temporal encoder generalizes best to out-of-sample data",
      "evidence": "Phase 35: Transformer +32.65% Dec P&L vs V3 -3.34% vs TCN 20K pretrain -3.95%",
      "implications": ["Use TEMPORAL_ENCODER=transformer for production", "TCN overfits to training data"],
      "experiments": ["exp35_transformer", "exp35_v3_multi", "pretrain_20k_sept_nov"]
    },
    {
      "id": "LEARN-009",
      "date": "2026-01-02",
      "insight": "Training P&L does NOT predict out-of-sample performance",
      "evidence": "V3: +3119% training, -3.34% Dec OOS. 20K TCN: +3753% training, -3.95% Dec OOS",
      "implications": ["ALWAYS validate on out-of-sample period before deployment", "Training P&L is meaningless"],
      "experiments": ["exp35_v3_multi", "pretrain_20k_sept_nov", "exp35_v3_dec_test", "pretrain_20k_dec_test"]
    },
    {
      "id": "LEARN-010",
      "date": "2026-01-02",
      "insight": "The 59.8% win rate from dec_validation_v2 is NOT REPRODUCIBLE",
      "evidence": "20K pretrain on Sept-Nov achieved only 18.4% WR on December (worse than random)",
      "implications": ["Stop trying to reproduce dec_validation_v2", "Focus on Transformer which actually generalizes"],
      "experiments": ["pretrain_20k_sept_nov", "pretrain_20k_dec_test"]
    },
    {
      "id": "LEARN-011",
      "date": "2026-01-02",
      "insight": "Longer training makes model MORE selective but with WRONG predictions",
      "evidence": "20K pretrain: 38 trades from 3412 signals (1.1% rate) but 18.4% WR",
      "implications": ["Long training != better predictions", "Conservative != correct"],
      "experiments": ["pretrain_20k_dec_test"]
    },
    {
      "id": "LEARN-012",
      "date": "2026-01-04",
      "insight": "Wider take profit (+25%) dramatically improves P&L",
      "evidence": "TP +25%: +91.44% P&L, $101/trade vs TP +12% baseline. OOS validated at 40.3% WR",
      "implications": ["Let winners run longer", "Wide TP compensates for lower WR"],
      "experiments": ["EXP-0100_IDEA-153", "EXP-0116_IDEA-169"]
    },
    {
      "id": "LEARN-013",
      "date": "2026-01-04",
      "insight": "Entropy-based confidence improves win rate by +9.2pp",
      "evidence": "Pure entropy confidence: 42.5% WR vs 33.3% baseline (+9.2pp improvement)",
      "implications": ["Use prediction entropy as confidence proxy", "Low entropy = high certainty = better trades"],
      "experiments": ["entropy_confidence_test"]
    }
  ],
  "failed_approaches": [
    {
      "approach": "Dynamic exit evaluator",
      "reason": "Theta decay check triggers too aggressively, cutting positions too early for short-term options",
      "experiments": ["test_dynamic_exit", "test_dynamic_exit_v2"],
      "do_not_retry": true
    },
    {
      "approach": "Consensus multi-signal entry",
      "reason": "Waits for too many confirmations, enters late after trend established, catches reversals",
      "experiments": ["consensus_5k"],
      "do_not_retry": false,
      "note": "Could work with different signal weighting"
    },
    {
      "approach": "Contrarian mode (fade consensus)",
      "reason": "Highest win rate (41.3%) but worst P&L (-$2.81/trade). Fading consensus catches fake reversals.",
      "experiments": ["contrarian_5k"],
      "do_not_retry": true
    },
    {
      "approach": "HMM+Neural confirmation",
      "reason": "Great in favorable periods (+715% 5K), terrible in extended tests (-93.5% 20K). Period-sensitive.",
      "experiments": ["HMM+Neural 5K", "HMM+Neural 20K"],
      "do_not_retry": false,
      "note": "Might work with better neural model"
    },
    {
      "approach": "V3 Multi-Horizon with TCN (long training)",
      "reason": "High training P&L (+3119%) but loses money on December OOS (-3.34%)",
      "experiments": ["exp35_v3_multi", "exp35_v3_dec_test"],
      "do_not_retry": false,
      "note": "V3 architecture is good, just needs Transformer encoder"
    },
    {
      "approach": "20K+ pretrain to reproduce dec_validation_v2",
      "reason": "Long training makes model selective (1% trade rate) but predictions are WRONG (18.4% WR)",
      "experiments": ["pretrain_20k_sept_nov", "pretrain_20k_dec_test"],
      "do_not_retry": true
    }
  ],
  "best_configuration": {
    "name": "TP +25% with Transformer (CURRENT BEST - VALIDATED OOS)",
    "run_dir": "models/EXP-0100_IDEA-153",
    "notes": "Wider TP (+25%) lets winners run, validated 40.3% WR on December OOS",
    "training_period": "2025-06-26 to 2025-12-26",
    "test_period": "2025-12-01 to 2025-12-20",
    "training_result": {"win_rate": 38.9, "pnl_pct": 91.44, "trades": 45, "per_trade_pnl": 101.59},
    "oos_result": {"win_rate": 40.3, "pnl_pct": "pending", "trades": "pending"},
    "env_vars": {"TEMPORAL_ENCODER": "transformer", "TT_TAKE_PROFIT_PCT": "25"},
    "why_best": "Best P&L (+91.44%) and OOS WR at 40.3% (above breakeven)"
  },
  "pending_improvements": {
    "combo_test": "TP +25% + Entropy Confidence (IDEA-170, IDEA-171)",
    "expected_wr": "~49% (40.3% + 9.2pp from entropy)",
    "status": "queued for testing"
  },
  "previous_best": {
    "name": "Dec 2025 Pretrained (NOT REPRODUCIBLE)",
    "run_dir": "models/dec_validation_v2",
    "notes": "Original model with 59.8% WR - specific weights are irreplaceable",
    "result": {"win_rate": 59.8, "per_trade_pnl": 338.86, "total_pnl_pct": 413.41, "trades": 61},
    "status": "DEPRECATED - Cannot be reproduced through retraining"
  },
  "hardware": {
    "gpus": "2x Tesla P40 (48GB VRAM total)",
    "parallel_experiments": 4,
    "note": "Can run 4 experiments in parallel for faster iteration"
  },
  "last_updated": "2026-01-04T11:45:00Z"
}
